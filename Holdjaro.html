<!DOCTYPE html>
<meta charset="utf-8">
<title>Holdjáró</title>
<link rel="stylesheet" href="https://code.jquery.com/qunit/qunit-2.20.0.css">
<body>
  <div id="qunit"></div>
  <div id="qunit-fixture"></div>
  <script src="https://code.jquery.com/qunit/qunit-2.20.0.js"></script>
</body>
<script>

  function holdJaro (a){

    //8x8-as terület.
    x = [ 1, 2, 3, 4, 5, 6, 7, 8	];
    y = [ 1, 2, 3, 4, 5, 6, 7, 8	];

    //Irányok, merre áll/merre megy.
    d = [ 'N', 'E', 'S', 'W' ];

    //Kezdeti helyzetének megadása.
    positionX = x[0];
    positionY = y[0]; //Tehát [0,0]-án áll és N fele néz.
    direction = d[0];

    //ELŐRE:
    if(a.substring(0, 1) == 'f'){

        let fCount = 0;

        for(let i=0; i<a.length; i++)
        {
          if(a[i] == 'f')
          {
            fCount++;
          }
        }
        
      const moveY = (y.length + fCount % y.length) % y.length; //Így nem tud nagyobb értéket kapni, mint ahány az Y.
      positionY = y[moveY]

    }

    //HÁTRA:
    if(a.substring(0, 1) == 'b'){

        let bCount = 0;

        for(let i=0; i<a.length; i++)
        {
          if(a[i] == 'b')
          {
            bCount++;
          }
        }

      const moveY = (y.length - bCount % y.length) % y.length;
      positionY = y[moveY]

    }

    //BALRA
    if(a.substring(0, 1) == 'l'){
      
        let lCount = 0;

        for(let i=0; i<a.length; i++)
        {
          if(a[i] == 'l')
          {
            lCount++;
          }
        }

      const moveXY = (d.length - lCount % d.length) % d.length;
      direction = d[moveXY];

		}

  }

  //ELŐRE elllenőrzés.
  QUnit.module('Előre', function() {
      QUnit.test('előre1', function(assert) {
        assert.equal(holdJaro("f"), 'x: 1 y: 2 D: N');
      });
      QUnit.test('előre2', function(assert) {
        assert.equal(holdJaro("ff"), 'x: 1 y: 3 D: N');
      });
      QUnit.test('előre3', function(assert) {
        assert.equal(holdJaro("fff"), 'x: 1 y: 4 D: N');
      });
      QUnit.test('előre4', function(assert) {
        assert.equal(holdJaro("ffff"), 'x: 1 y: 5 D: N');
      });
      QUnit.test('előre5', function(assert) {
        assert.equal(holdJaro("fffff"), 'x: 1 y: 6 D: N');
      });
      QUnit.test('előre6', function(assert) {
        assert.equal(holdJaro("ffffff"), 'x: 1 y: 7 D: N');
      });
      QUnit.test('előre7', function(assert) {
        assert.equal(holdJaro("fffffff"), 'x: 1 y: 8 D: N');
      });
      QUnit.test('előre8', function(assert) {
        assert.equal(holdJaro("ffffffff"), 'x: 1 y: 1 D: N');
      });
      QUnit.test('előre10', function(assert) {
        assert.equal(holdJaro("ffffffffff"), 'x: 1 y: 3 D: N');
      });
  });

  //HÁTRA elllenőrzés.
  QUnit.module('Hátra', function() {
      QUnit.test('hátra1', function(assert) {
        assert.equal(holdJaro("b"), 'x: 1 y: 8 D: N');
      });
      QUnit.test('hátra2', function(assert) {
        assert.equal(holdJaro("bb"), 'x: 1 y: 7 D: N');
      });
      QUnit.test('hátra3', function(assert) {
        assert.equal(holdJaro("bbb"), 'x: 1 y: 6 D: N');
      });
      QUnit.test('hátra4', function(assert) {
        assert.equal(holdJaro("bbbb"), 'x: 1 y: 5 D: N');
      });
      QUnit.test('hátra5', function(assert) {
        assert.equal(holdJaro("bbbbb"), 'x: 1 y: 4 D: N');
      });
      QUnit.test('hátra6', function(assert) {
        assert.equal(holdJaro("bbbbbb"), 'x: 1 y: 3 D: N');
      });
      QUnit.test('hátra7', function(assert) {
        assert.equal(holdJaro("bbbbbbb"), 'x: 1 y: 2 D: N');
      });
      QUnit.test('hátra8', function(assert) {
        assert.equal(holdJaro("bbbbbbbb"), 'x: 1 y: 1 D: N');
      });
      QUnit.test('hátra10', function(assert) {
        assert.equal(holdJaro("bbbbbbbbbb"), 'x: 1 y: 7 D: N');
      });
  });

  QUnit.module('Balra', function() {
    QUnit.test('balra1', function(assert) {
        assert.equal(holdJaro("l"), 'x: 1 y: 1 D: W');
    });
    QUnit.test('balra2', function(assert) {
        assert.equal(holdJaro("ll"), 'x: 1 y: 1 D: S');
    });
    QUnit.test('balra3', function(assert) {
        assert.equal(holdJaro("lll"), 'x: 1 y: 1 D: E');
    });
    QUnit.test('balra4', function(assert) {
        assert.equal(holdJaro("llll"), 'x: 1 y: 1 D: N');
    });
  });

</script>